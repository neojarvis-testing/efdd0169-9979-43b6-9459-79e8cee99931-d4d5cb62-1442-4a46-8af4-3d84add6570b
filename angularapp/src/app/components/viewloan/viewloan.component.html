<!-- viewloan.component.html -->
<div class="container">
  <header>
    <h2>Loans Details</h2>
  </header>
  
  <div class="search-section">
    <div class="search-container">
      <input id="search-focus" type="search" placeholder="Search by Loan Type" [(ngModel)]="searchTerm" (input)="filterLoans()" />
    </div>
  </div>
  
  <div class="table-responsive">
    <table>
      <thead>
        <tr>
          <th>S.No</th>
          <th>Loan Type</th>
          <th>Maximum Amount</th>
          <th>Interest Rate</th>
          <th>Repayment Tenure</th>
          <th>Eligibility Criteria</th>
          <th>Documents Required</th>
          <th>Description</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let loan of filteredLoans; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ loan.loanType }}</td>
          <td>{{ loan.maximumAmount | currency:'INR' }}</td>
          <td>{{ loan.interestRate }}%</td>
          <td>{{ loan.repaymentTenure }} months</td>
          <td>{{ loan.eligibility }}</td>
          <td>{{ loan.documentsRequired }}</td>
          <td>{{ loan.description }}</td>
          <td>
            <div class="action-btns">
              <button *ngIf="isAdmin" (click)="editLoan(loan.loanId)" class="edit-btn" type="button">Edit</button>
              <button *ngIf="isAdmin" (click)="deleteLoan(loan.loanId)" class="delete-btn" type="button">Delete</button>
              <button *ngIf="!isAdmin" (click)="applyLoan(loan.loanId)" class="apply-btn" type="button">Apply</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <!-- Empty state (shown when no results) -->
  <div class="empty-state" *ngIf="filteredLoans.length === 0">
    <h3>No loans found</h3>
    <p>Try changing your search criteria or check back later for new loan options.</p>
    <button class="reset-btn" (click)="resetSearch()">Reset Search</button>
  </div>
</div>
