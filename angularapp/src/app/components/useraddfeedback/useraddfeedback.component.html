<div class="feedback-form-wrapper">
  <div class="container">
    <header>
      <h2>Submit Feedback</h2>
    </header>

    <div class="glass-card shadow rounded">
      <div class="card-body">
        <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="mb-3 form-group">
            <label for="feedbackText" class="form-label">Your Feedback:</label>
            <textarea
              id="feedbackText"
              formControlName="feedbackText"
              placeholder="Write your feedback here..."
              class="form-control"
              rows="4"
              (input)="updateWordCount()"
            ></textarea>
            <div class="invalid-feedback" *ngIf="feedbackForm.controls['feedbackText'].invalid && feedbackForm.controls['feedbackText'].touched">
              Feedback is required.
            </div>
            <div class="word-count">
              {{ wordCount }}/500
            </div>
            <div class="text-danger" *ngIf="wordCount > 500">
              Word limit exceeded! Please reduce your feedback to 500 words or less.
            </div>
          </div>

          <div class="text-center mt-4">
            <button type="submit" class="btn btn-success" [disabled]="feedbackForm.invalid || wordCount > 500">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100;">
  <div class="toast custom-toast fade show" *ngIf="toastMessage">
    <div class="d-flex">
      <div class="toast-body">{{ toastMessage }}</div>
      <button class="btn-close btn-close-white me-2 m-auto" (click)="toastMessage = ''"></button>
    </div>
  </div>
</div>
