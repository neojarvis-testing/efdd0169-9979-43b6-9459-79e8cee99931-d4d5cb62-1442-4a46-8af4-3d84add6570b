<div class="container mt-4">
  <h2>Add Feedback</h2>
  <form [formGroup]="feedbackForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="mb-3">
      <label for="feedbackText" class="form-label">Feedback:</label>
      <textarea
        id="feedbackText"
        formControlName="feedbackText"
        placeholder="Write your feedback here..."
        class="form-control"
        rows="4"
        (input)="updateWordCount()"
        [ngClass]="{ 'is-invalid': feedbackForm.controls['feedbackText'].invalid && feedbackForm.controls['feedbackText'].touched }"
      ></textarea>
      <div class="invalid-feedback" *ngIf="feedbackForm.controls['feedbackText'].invalid && feedbackForm.controls['feedbackText'].touched">
        Feedback is required
      </div>
      <div class="word-count">
        {{ wordCount }}/500
      </div>
      <div class="text-danger" *ngIf="wordCount > 500">
        Word limit exceeded! Please reduce your feedback to 500 words or less.
      </div>
    </div>
    <button type="submit" class="btn btn-success" [disabled]="feedbackForm.invalid || wordCount > 500">Submit</button>
  </form>
</div>

<!-- Toast Notification -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1100;">
  <div class="toast custom-toast fade show" *ngIf="toastMessage">
    <div class="d-flex">
      <div class="toast-body">{{ toastMessage }}</div>
      <button class="btn-close btn-close-white me-2 m-auto" (click)="toastMessage = ''"></button>
    </div>
  </div>
</div>
